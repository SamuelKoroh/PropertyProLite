{"version":3,"sources":["../../server/utils/upload-files.js"],"names":["uploadImages","files","result","imagePromises","map","file","Promise","resolve","reject","cloudinary","v2","uploader","upload","path","use_filename","unique_fileName","error","res","secure_url","images","all","errors"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpC,QAAMC,MAAM,GAAG,EAAf;;AACA,MAAI;AACF,UAAMC,aAAa,GAAGF,KAAK,CAACG,GAAN,CACpBC,IAAI,IACF,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/BC,0BAAWC,EAAX,CAAcC,QAAd,CAAuBC,MAAvB,CACEP,IAAI,CAACQ,IADP,EAEE;AAAEC,QAAAA,YAAY,EAAE,IAAhB;AAAsBC,QAAAA,eAAe,EAAE;AAAvC,OAFF,EAGE,CAACC,KAAD,EAAQC,GAAR,KAAgB;AACd,YAAID,KAAJ,EAAWR,MAAM,CAACQ,KAAD,CAAN,CAAX,KACKT,OAAO,CAACU,GAAG,CAACC,UAAL,CAAP;AACN,OANH;AAQD,KATD,CAFkB,CAAtB;AAcAhB,IAAAA,MAAM,CAACiB,MAAP,GAAgB,MAAMb,OAAO,CAACc,GAAR,CAAYjB,aAAZ,CAAtB;AACD,GAhBD,CAgBE,OAAOa,KAAP,EAAc;AACdd,IAAAA,MAAM,CAACmB,MAAP,GAAgBL,KAAhB;AACD;;AACD,SAAOd,MAAP;AACD,CAtBD;;eAwBeF,Y","sourcesContent":["import cloudinary from 'cloudinary';\n\nconst uploadImages = async (files) => {\n  const result = {};\n  try {\n    const imagePromises = files.map(\n      file =>\n        new Promise((resolve, reject) => {\n          cloudinary.v2.uploader.upload(\n            file.path,\n            { use_filename: true, unique_fileName: false },\n            (error, res) => {\n              if (error) reject(error);\n              else resolve(res.secure_url);\n            }\n          );\n        })\n    );\n\n    result.images = await Promise.all(imagePromises);\n  } catch (error) {\n    result.errors = error;\n  }\n  return result;\n};\n\nexport default uploadImages;\n"],"file":"upload-files.js"}